                except Exception as e_restore_timeout:
                    self._log(f"WebANET: Erreur restauration timeout: {e_restore_timeout}", "WARN")
        
        if not wcs_solution_header_text: return None

        solved_wcs_object = None
        try:
            if isinstance(wcs_solution_header_text, fits.Header):
                with warnings.catch_warnings():
                    warnings.simplefilter("ignore", FITSFixedWarning)
                    solved_wcs_object = WCS(wcs_solution_header_text)
                
                if solved_wcs_object and solved_wcs_object.is_celestial:
                    self._log("WebANET: Objet WCS créé avec succès.", "DEBUG")
                    nx_sol = wcs_solution_header_text.get('IMAGEW', fits_header_original.get('NAXIS1') if fits_header_original else None)
                    ny_sol = wcs_solution_header_text.get('IMAGEH', fits_header_original.get('NAXIS2') if fits_header_original else None)
                    if nx_sol and ny_sol: solved_wcs_object.pixel_shape = (int(nx_sol), int(ny_sol))
                    
                    if update_header_with_solution and fits_header_original is not None:
