{
    "window_title": "ZeMosaic V2.0 - Hierarchical Mosaicker",
    "language_selector_label": "Language:",
    "folders_frame_title": "Folders",
    "input_folder_label": "Input Folder (Raws):",
    "output_folder_label": "Output Folder:",
    "save_final_16bit_label": "Save Final Mosaic as 16-bit:",
    "astap_config_frame_title": "ASTAP Configuration",
    "astap_exe_label": "ASTAP Executable Path:",
    "astap_data_dir_label": "ASTAP Data Directory (G17/H17):",
    "browse_button": "Browse...",
    "browse_button_output": "Browse Output Folder",
    "browse_save_button": "Browse & Save",
    "browse_save_button_data": "Browse & Save Data Dir",
    "mosaic_astap_params_frame_title": "Mosaic & ASTAP Parameters",
    "astap_search_radius_label": "ASTAP Search Radius (deg):",
    "astap_downsample_label": "ASTAP Downsample (-z):",
    "astap_downsample_note": "(0=auto, 1=2x2, 2=4x4...)",
    "astap_sensitivity_label": "ASTAP Sensitivity (-sens):",
    "astap_sensitivity_note": "(e.g., 100, higher = more sensitive)",
    "panel_clustering_threshold_label": "Panel Clustering Threshold (deg):",
    "launch_button": "Start Hierarchical Mosaic",
    "stop_button": "Stop",
    "log_frame_title": "Processing Logs",
    "eta_text_label": "ETA:",
    "elapsed_text_label": "Elapsed:",
    "initial_eta_value": "--:--:--",
    "initial_elapsed_time": "00:00:00",
    "tiles_text_label": "Tiles:",
    "crop_options_frame_title": "Master Tile Cropping Options",
    "apply_master_tile_crop_label": "Crop Master Tile Edges:",
    "master_tile_crop_percent_label": "Crop Percentage per Side (0-25%):",
    "master_tile_crop_percent_note": "(0.0 = no crop)",


    "config_warning_title": "Config Warning",
    "config_module_not_found_warning": "Configuration module (zemosaic_config.py) not found.\nASTAP paths will not be saved between sessions.",
    "astap_path_title": "ASTAP Path",
    "astap_exe_not_set_warning": "ASTAP executable path is not set.",
    "astap_data_dir_title": "ASTAP Data Directory",
    "astap_data_dir_not_set_warning": "ASTAP data directory path is not set.",
    "select_astap_exe_title": "Select ASTAP Executable",
    "select_astap_exe_no_save_title": "Select ASTAP Executable (Not Saved)",
    "select_astap_data_dir_title": "Select ASTAP Data Directory",
    "select_astap_data_no_save_title": "Select ASTAP Data Directory (Not Saved)",
    "executable_files": "Executable Files",
    "all_files": "All Files",
    "processing_in_progress_title": "Processing in Progress",
    "processing_already_running_warning": "A process is already running. Please wait.",
    "critical_error_title": "Critical Error",
    "worker_module_unavailable_error": "Worker module (zemosaic_worker.py) is not available or incomplete.\nCannot start processing.",
    "param_error_title": "Parameter Error",
    "invalid_param_value_error": "Invalid parameter value: {error}",
    "error_title": "Error",
    "invalid_input_folder_error": "Invalid input folder.",
    "missing_output_folder_error": "Output folder is missing.",
    "output_folder_creation_error": "Could not create/access output folder: {error}",
    "invalid_astap_exe_error": "Invalid ASTAP executable path.",
    "invalid_astap_data_error": "Invalid ASTAP data directory path.",
    "log_key_processing_started": "Starting hierarchical mosaic processing...",
    "log_key_input_folder_info": "  Input Folder: {input_folder}",
    "log_key_output_folder_info": "  Output Folder: {output_folder}",
    "log_key_astap_exe_info": "  ASTAP Executable: {astap_exe}",
    "log_key_astap_data_info": "  ASTAP Data: {astap_data}",
    "processing_finished_log_key": "Processing finished or worker thread stopped.",
    "log_key_processing_cancelled": "Processing cancelled by user.",
    "completed_title": "Completed",
    "msg_processing_completed": "Mosaic processing completed.",
    "msg_processing_completed_errors": "Processing completed with errors. Please check logs.",
    "dialog_title_completed": "Processing Complete",
    "q_open_output_folder_title": "Open Output Folder?",
    "q_open_output_folder_msg": "Do you want to open the output folder '{folder}'?",
    "log_key_error_opening_folder": "Error opening output folder: {error}",
    "error_cannot_open_folder": "Could not open output folder:\n{error}",
    "q_quit_title": "Quit ZeMosaic?",
    "q_quit_while_processing_msg": "Processing is currently in progress.\nQuitting now might interrupt the process abruptly.\n\nAre you sure you want to quit?",
    "critical_launch_error_title": "Critical Launch Error",
    "worker_module_missing_critical_error": "Worker module (zemosaic_worker.py) not found or import error.\nZeMosaic cannot start its main functionalities.\n\nPlease check console logs for import error details and ensure all dependencies (Astropy, Reproject, etc.) are installed.",

    "run_error_critical_deps_missing": "CRITICAL ERROR: Missing module(s): {modules}. Aborting.",
    "run_info_processing_started": "Starting mosaic processing (Master Tile Workflow)...",
    "run_error_no_fits_found_input": "ERROR: No FITS files found in input folder.",
    "run_info_found_potential_fits": "Found {num_files} potential FITS files.",
    "run_info_phase1_processing_file": "P1 - Raw File {current_file_num}/{total_files}: {filename}",
    "run_warn_phase1_wcs_pretreat_failed": "WARN P1: WCS/Pretreatment failed for {filename}. File skipped.",
    "run_error_phase1_no_valid_raws": "ERROR P1: No raw files with valid WCS found after Phase 1.",
    "run_info_phase1_finished": "Phase 1 finished: {num_valid_raws} valid raw files.",
    "run_info_phase2_started": "Phase 2: Fine clustering of raws into 'Seestar Stacks'...",
    "run_error_phase2_no_groups": "ERROR P2: No 'Seestar Stacks' (fine groups) could be formed.",
    "run_info_phase2_finished": "Phase 2 finished: {num_groups} 'Seestar Stacks' identified.",
    "run_info_phase3_started": "Phase 3: Creating Master Tiles (intra-stack alignment & stacking)...",
    "run_error_phase3_mkdir_failed": "ERROR P3: Could not create temp folder for master tiles '{directory}': {error}",
    "run_info_phase3_processing_stack": "P3 - Processing Seestar Stack {current_stack_num}/{total_stacks} for Master Tile...",
    "run_warn_phase3_master_tile_creation_failed": "WARN P3: Failed to create Master Tile for Seestar stack {stack_num}. Stack skipped.",
    "run_error_phase3_no_master_tiles_created": "ERROR P3: No Master Tiles were successfully created.",
    "run_info_phase3_finished": "Phase 3 finished: {num_master_tiles} Master Tiles successfully created.",
    "run_info_phase4_started": "Phase 4: Calculating final mosaic output grid (from Master Tiles)...",
    "run_error_phase4_insufficient_tile_info": "ERROR P4: Insufficient Master Tile info for final grid after filtering.",
    "run_error_phase4_grid_calc_failed": "ERROR P4: Failed to calculate final mosaic grid.",
    "run_info_phase4_finished": "Phase 4 finished: Final grid: Shape(H,W)={shape}, CRVAL={crval}",
    "run_info_phase5_started": "Phase 5: Final assembly of Master Tiles via Reproject...",
    "run_warn_phase5_invalid_tile_skipped": "WARN P5: Invalid Master Tile ({filename}) skipped for final assembly.",
    "run_error_phase5_no_valid_tiles_for_assembly": "ERROR P5: No valid Master Tiles left to assemble.",
    "run_error_phase5_assembly_failed": "ERROR P5: Final mosaic assembly via Reproject failed.",
    "run_info_phase5_finished": "Phase 5 finished: Final assembly of master tiles completed. Mosaic shape (HWC): {shape}",
    "run_info_phase6_started": "Phase 6: Saving final mosaic...",
    "run_info_coverage_map_saved": "Coverage map saved: {filename}",
    "run_success_mosaic_saved": "Final mosaic saved: {filename}",
    "run_error_phase6_save_failed": "ERROR P6: Failed to save final mosaic: {error}",
    "run_info_preview_stretch_started": "Test Visu Phase: Applying percentile stretch for preview image...",
    "run_success_preview_saved": "Stretched preview image saved: {filename}",
    "run_warn_preview_imwrite_failed": "WARN Visu: cv2.imwrite returned False for preview PNG.",
    "run_warn_preview_opencv_missing": "WARN Visu: OpenCV (cv2) not found to save preview PNG.",
    "run_error_preview_opencv_failed": "ERROR Visu: Failed to save preview PNG with OpenCV: {error}",
    "run_error_preview_stretch_unexpected": "UNEXPECTED ERROR during preview stretch creation: {error}",
    "run_info_phase7_started": "Phase 7: Cleaning up temporary Master Tile files...",
    "run_info_temp_master_tiles_cleaned": "Temporary Master Tiles cleaned up.",
    "run_warn_phase7_cleanup_failed": "WARNING P7: Failed to clean up temporary Master Tile folder '{directory}': {error}",
    "run_success_processing_completed": "Hierarchical mosaic processing completed in {duration}s.",


    
    "calcgrid_info_start_calc": "CalcGrid: Starting grid calculation for {num_wcs_shapes} WCS/shapes. Scale: {scale_factor}x",
    "calcgrid_error_reproject_unavailable": "CalcGrid ERROR: Reproject (find_optimal_celestial_wcs) not available.",
    "calcgrid_error_astropy_unavailable": "CalcGrid ERROR: Astropy (units/Angle) not available.",
    "calcgrid_error_no_wcs_shape": "CalcGrid ERROR: No WCS/Shape information provided.",
    "calcgrid_warn_invalid_shape_skipped": "CalcGrid WARN: Invalid shape {shape} for WCS {wcs_index}. Skipped.",
    "calcgrid_warn_no_shape_for_wcs_skipped": "CalcGrid WARN: No shape information for WCS {wcs_index}. Skipped.",
    "calcgrid_warn_invalid_wcs_skipped": "CalcGrid WARN: Invalid WCS at index {wcs_index}. Skipped.",
    "calcgrid_error_no_valid_wcs_shape_after_filter": "CalcGrid ERROR: No valid WCS/Shape information after filtering.",
    "calcgrid_warn_set_pixel_shape_failed": "CalcGrid WARN: Failed to set pixel_shape on WCS {wcs_index}: {error}",
    "calcgrid_error_no_wcs_for_optimal_calc": "CalcGrid ERROR: No WCS entries for find_optimal_celestial_wcs.",
    "calcgrid_warn_scale_fallback": "CalcGrid WARN: Average scale could not be calculated. Using fallback.",
    "calcgrid_info_scales": "CalcGrid: Avg Input Scale: {avg_input_scale_arcsec:.3f} arcsec/pix. Target Output Scale: {target_scale_arcsec:.3f} arcsec/pix.",
    "calcgrid_info_optimal_grid_calculated": "CalcGrid: Optimal grid: Shape(H,W)={shape}, CRVAL={crval}",
    "calcgrid_error_find_optimal_wcs_unavailable": "CalcGrid ERROR: find_optimal_celestial_wcs function is not available.",
    "calcgrid_error_find_optimal_wcs_call": "CalcGrid ERROR calling find_optimal_celestial_wcs: {error}",

    "clusterstacks_error_astropy_unavailable": "ClusterStacks ERROR: Astropy (SkyCoord/units) not available.",
    "clusterstacks_warn_no_raw_info": "ClusterStacks: No raw file information provided.",
    "clusterstacks_info_start": "ClusterStacks: Clustering {num_files} raw files (fine threshold: {threshold}°)...",
    "clusterstacks_warn_no_centers": "ClusterStacks WARN: No valid celestial centers found for clustering.",
    "clusterstacks_info_finished": "ClusterStacks: {num_groups} Seestar stacks (fine groups) formed.",
    "clusterstacks_info_groups_split_auto_limit": "Auto limit enabled: groups split from {original} to {new}, max {limit} frames (sample {shape})",
    "clusterstacks_info_groups_split_manual_limit": "Manual limit applied: groups split from {original} to {new}, limit {limit} frames",
    "clusterstacks_warn_auto_limit_failed": "Auto limit estimation failed: {error}",
    
    "getwcs_error_utils_unavailable": "GetWCS_Pretreat ERROR: zemosaic_utils module not available.",
    "getwcs_error_load_failed": "GetWCS_Pretreat ERROR: Failed to load '{filename}'.",
    "getwcs_warn_debayer_failed": "GetWCS_Pretreat WARN: Debayering failed for '{filename}': {error}. Attempting to stack as grayscale (replicated).",
    "getwcs_warn_still_2d_after_debayer": "GetWCS_Pretreat WARN: Image for '{filename}' is still 2D after debayer attempt. Replicating to RGB.",
    "getwcs_error_shape_after_debayer": "GetWCS_Pretreat ERROR: Incorrect image shape ({shape}) after Debayer for '{filename}'.",
    "getwcs_warn_hp_returned_none": "GetWCS_Pretreat WARN: Hot pixel correction returned None for '{filename}'. Using previous image data.",
    "getwcs_warn_header_wcs_read_failed": "GetWCS_Pretreat WARN: Failed to read WCS from FITS header of '{filename}': {error}. Attempting ASTAP.",
    "getwcs_info_astap_solved": "GetWCS_Pretreat: ASTAP successfully solved '{filename}'.",
    "getwcs_warn_astap_failed": "GetWCS_Pretreat WARN: ASTAP did NOT solve '{filename}'.",
    "getwcs_error_astap_tempfile_write_failed": "GetWCS_Pretreat ERROR: Failed to write temporary FITS for ASTAP for '{filename}': {error}.",
    "getwcs_warn_no_header_wcs_astap_unavailable": "GetWCS_Pretreat WARN: No WCS in header and ASTAP not available/used for '{filename}'.",
    "getwcs_error_final_wcs_invalid": "GetWCS_Pretreat ERROR: Final WCS for '{filename}' is invalid or not celestial.",
    "getwcs_error_set_pixel_shape_final": "GetWCS_Pretreat ERROR: Failed setting final pixel_shape: {error}.",
    "getwcs_error_invalid_naxis_for_pixel_shape": "GetWCS_Pretreat ERROR: Invalid NAXIS1/2 for final pixel_shape.",
    "getwcs_info_pretreatment_wcs_ok": "GetWCS_Pretreat: Pretreatment and WCS OK for '{filename}'. WCS CRVAL: {crval}.",

    "mastertile_info_creation_started": "MasterTile_{tile_id}: Creation started ({num_raw} raws)...",
    "mastertile_error_utils_unavailable": "MasterTile_{tile_id} ERROR: zemosaic_utils not available.",
    "mastertile_error_alignstack_unavailable": "MasterTile_{tile_id} ERROR: zemosaic_align_stack not available.",
    "mastertile_error_astropy_unavailable": "MasterTile_{tile_id} ERROR: Astropy not available.",
    "mastertile_error_no_images_provided": "MasterTile_{tile_id} ERROR: No images provided for this tile.",
    "mastertile_error_invalid_ref_index": "MasterTile_{tile_id} ERROR: Invalid reference image index.",
    "mastertile_error_invalid_ref_wcs_header": "MasterTile_{tile_id} ERROR: Invalid or missing WCS/header for reference image.",
    "mastertile_info_reference_set": "MasterTile_{tile_id}: Ref for intra-tile alignment: Img {ref_index} ('{ref_filename}')",
    "mastertile_info_loading_preprocessing_started": "MasterTile_{tile_id}: === Start Loading & Preprocessing ({num_images} images) ===",
    "mastertile_warn_pretreatment_failed_skipped": "MasterTile_{tile_id} WARN: Pretreatment failed for image {image_id}. Skipped.",
    "mastertile_error_no_valid_images_after_load": "MasterTile_{tile_id} ERROR: No valid images after loading/preprocessing.",
    "mastertile_info_loading_finished": "MasterTile_{tile_id}: === Loading Finished. {num_loaded} images ready. ===",
    "mastertile_info_intra_tile_alignment_started": "MasterTile_{tile_id}: === Start Intra-Tile Alignment ({num_to_align} imgs) ===",
    "mastertile_info_intra_tile_alignment_finished": "MasterTile_{tile_id}: === Alignment Finished. {num_aligned} images valid for stacking. ===",
    "mastertile_error_no_images_after_alignment": "MasterTile_{tile_id} ERROR: No images left after fine alignment.",
    "mastertile_info_stacking_started": "MasterTile_{tile_id}: === Start Stacking ({num_to_stack} imgs, method: {method}, ADU Target: {adu_target}) ===",
    "mastertile_error_stacking_failed": "MasterTile_{tile_id} ERROR: Classic stacking failed.",
    "mastertile_info_stacking_finished": "MasterTile_{tile_id}: === Stacking Finished. Master Tile raw: Shape: {shape}, Min: {min_val:.3g}, Max: {max_val:.3g}, Mean: {mean_val:.3g}",
    "mastertile_info_saving_started": "MasterTile_{tile_id}: === Start Saving Master Tile ===",
    "mastertile_warn_wcs_header_error": "MasterTile_{tile_id} WARN saving: WCS header error: {error}",
    "mastertile_info_saved": "MasterTile_{tile_id} saved ({format_type}): {filename}",
    "mastertile_info_saving_finished": "MasterTile_{tile_id}: === Saving Master Tile Finished ===",
    "mastertile_error_saving": "MasterTile_{tile_id} ERROR (saving): {error}",
    
    "assemble_error_reproject_unavailable": "AssembleFinal ERROR: Reproject library not available.",
    "assemble_info_start": "AssembleFinal: Assembling {num_tiles} master tiles...",
    "assemble_error_read_master_tile": "AssembleFinal ERROR reading Master Tile {filename}: {error}. Skipped.",
    "assemble_error_no_valid_tiles_for_reproject": "AssembleFinal ERROR: No valid Master Tiles to reproject.",
    "assemble_info_final_stacking_started": "AssembleFinal: Final stacking of {num_valid_tiles} valid Master Tiles...",
    "assemble_error_stacking_failed": "AssembleFinal ERROR stacking: {error}",
    "assemble_info_finished": "AssembleFinal: Final mosaic assembled.",


    
    "run_info_phase1_started_cache": "Phase 1: Scanning raw files, preprocessing, WCS, and caching image data...",
    "run_error_cache_dir_creation_failed": "ERROR: Could not create temporary image cache directory '{directory}': {error}",
    "run_error_phase1_cache_save_failed": "ERROR Phase 1: Failed to save preprocessed data for '{filename}' to cache: {error}",
    "run_error_phase1_no_valid_raws_after_cache": "ERROR P1: No raw files with valid WCS found after caching attempt.",
    "run_info_phase1_finished_cache": "Phase 1 finished: {num_valid_raws} raw files preprocessed and cached.",
    "run_info_phase3_started_from_cache": "Phase 3: Creating Master Tiles (reading from preprocessed image cache)...",
    "run_info_phase3_finished_from_cache": "Phase 3 finished: {num_master_tiles} Master Tiles successfully created (using cache).",
    "run_info_phase7_cleanup_starting": "Phase 7: Cleaning up temporary files...",
    "run_info_temp_preprocessed_cache_cleaned": "Temporary preprocessed image cache directory '{directory}' cleaned up.",
    "run_warn_phase7_cache_cleanup_failed": "WARNING P7: Failed to clean up temporary image cache folder '{directory}': {error}",
    "run_info_temp_master_tiles_fits_cleaned": "Temporary master tile FITS directory '{directory}' cleaned up.",
    "run_warn_phase7_master_tiles_fits_cleanup_failed": "WARNING P7: Failed to clean up temporary master tile FITS folder '{directory}': {error}",

    "mastertile_info_creation_started_from_cache": "MasterTile_{tile_id}: Creation started from cache ({num_raw} raws)...",
    "mastertile_info_loading_from_cache_started": "MasterTile_{tile_id}: === Start Loading Preprocessed Images from Cache ({num_images} images) ===",
    "mastertile_warn_cache_file_missing": "MasterTile_{tile_id} WARN: Cached preprocessed file for '{filename}' not found at '{cache_path}'. Skipped.",
    "mastertile_warn_invalid_cached_data": "MasterTile_{tile_id} WARN: Invalid data in cached file '{filename}'. Shape: {shape}, Dtype: {dtype}. Skipped.",
    "mastertile_error_memory_loading_cache": "MasterTile_{tile_id} MEMORY ERROR loading cached file '{filename}': {error}",
    "mastertile_error_loading_cache": "MasterTile_{tile_id} ERROR loading cached file '{filename}': {error}",
    "mastertile_error_no_valid_images_from_cache": "MasterTile_{tile_id} ERROR: No valid images could be loaded from cache for this tile.",
    "mastertile_info_loading_from_cache_finished": "MasterTile_{tile_id}: === Loading from Cache Finished. {num_loaded} images ready. ===",
    "stacking_options_frame_title": "Stacking Options (Master Tiles)",
    "stacking_norm_method_label": "Normalization:",
    


    
    "norm_method_none": "None",
    "norm_method_linear_fit": "Linear Fit (Sky)",
    "norm_method_sky_mean": "Sky Mean Subtraction",
    "stacking_weight_method_label": "Weighting:",
    "weight_method_none": "None",
    "weight_method_noise_variance": "Noise Variance (1/σ²)",
    "weight_method_noise_fwhm": "Noise + FWHM",
    "stacking_reject_algo_label": "Rejection Algorithm:",
    "reject_algo_none": "None",
    "reject_algo_kappa_sigma": "Kappa-Sigma Clip",
    "reject_algo_winsorized_sigma_clip": "Winsorized Sigma Clip",
    "reject_algo_linear_fit_clip": "Linear Fit Clip",
    "stacking_kappa_low_label": "Kappa Low:",
    "stacking_kappa_high_label": "Kappa High:",
    "stacking_winsor_limits_label": "Winsor Limits (low,high):",
    "stacking_winsor_note": "(e.g., 0.05,0.05 for 5% each side)",
    "stacking_final_combine_label": "Final Combine:",
    "combine_method_mean": "Mean",
    "combine_method_median": "Median",
    
    
    
    "invalid_winsor_limits_error": "Invalid Winsor limits format (e.g., '0.05,0.05'). Limits must be 0.0 to <0.5. Error: {error}",
    "stackhelper_warn_norm_sky_mean_not_implemented": "StackHelper WARN: Sky Mean normalization not yet implemented. Skipping.",
    "stackhelper_warn_weight_noise_var_not_implemented": "StackHelper WARN: Noise Variance weighting not yet implemented. Using uniform weights.",
    "stackhelper_warn_weight_noise_fwhm_not_implemented": "StackHelper WARN: Noise+FWHM weighting not yet implemented. Using uniform weights.",
    "stackhelper_warn_kappa_sigma_astropy_unavailable": "StackHelper WARN: Astropy.stats (for sigma_clipped_stats) not available. Kappa-Sigma rejection will be skipped or less effective.",
    "stackhelper_info_kappa_sigma_rejected_pixels": "KappaSigma Reject: Rejected {num_rejected} pixel values.",
    "stackhelper_error_kappa_sigma_unexpected_shape": "StackHelper ERROR: Kappa-Sigma rejection received unexpected data shape: {shape}.",
    "stackhelper_warn_winsor_scipy_unavailable_rejection": "StackHelper WARN: Scipy.stats (for winsorize) not available. Winsorized Sigma Clip rejection will be skipped.",
    "stackhelper_warn_winsor_not_fully_implemented_rejection": "StackHelper WARN: Winsorized Sigma Clip rejection not yet fully implemented. Skipping.",
    "stackhelper_warn_linear_fit_clip_not_implemented": "StackHelper WARN: Linear Fit Clip rejection not yet implemented. Skipping.",
    "stackimages_warn_no_valid_images": "StackImages WARN: No valid images provided for stacking.",
    "stackimages_info_start_stacking": "StackImages INFO: Starting stacking of {num_images} images. Norm: '{norm}', Weight: '{weight}', Reject: '{reject}', Combine: '{combine}'.",
    "stackimages_warn_inconsistent_shape": "StackImages WARN: Image {img_index} (shape {shape}) has different shape than reference ({ref_shape}). Skipped.",
    "stackimages_error_no_images_after_shape_check": "StackImages ERROR: No valid images left after shape consistency check.",
    "stackimages_warn_some_images_skipped_shape": "StackImages WARN: {num_kept}/{num_initial} images kept after shape check.",
    "stackimages_info_applying_linear_fit_norm": "StackImages INFO: Applying Linear Fit normalization...",
    "stackimages_error_no_images_after_linear_fit_norm": "StackImages ERROR: No valid images left after Linear Fit normalization.",
    "stackimages_info_applying_sky_mean_norm": "StackImages INFO: Applying Sky Mean normalization...",
    "stackimages_error_no_images_after_sky_mean_norm": "StackImages ERROR: No valid images left after Sky Mean normalization.",
    "stackimages_warn_unknown_norm_method": "StackImages WARN: Unknown normalization method '{method}'. Skipping normalization.",
    "stackimages_error_no_images_left_after_normalization_step": "StackImages ERROR: No images left after normalization step.",
    "stackimages_info_calculating_noise_variance_weights": "StackImages INFO: Calculating Noise Variance weights...",
    "stackimages_info_calculating_noise_fwhm_weights": "StackImages INFO: Calculating Noise+FWHM weights...",
    "stackimages_warn_unknown_weight_method": "StackImages WARN: Unknown weighting method '{method}'. Using uniform weights.",
    "stackimages_error_memory_stacking_images": "StackImages MEMORY ERROR: Could not stack images into a single array.",
    "stackimages_error_value_stacking_images": "StackImages VALUE ERROR: Could not stack images (likely inconsistent shapes remaining): {error}",
    "stackimages_error_no_images_to_stack_before_np_stack": "StackImages ERROR: No images available to stack just before np.stack call.",
    "stackimages_warn_weights_count_mismatch": "StackImages WARN: Number of weights ({num_weights}) does not match number of stacked images ({num_images_stacked}). Potential issue.",
    "stackimages_warn_weights_shape_mismatch_final": "StackImages WARN: Final weights array shape ({weights_shape}) mismatch with data shape ({data_shape}). Discarding weights.",
    "stackimages_error_stacking_weights": "StackImages ERROR: Could not stack image weights: {error}",
    "stackimages_warn_unknown_rejection_algo": "StackImages WARN: Unknown rejection algorithm '{algo}'. No rejection applied.",
    "stackimages_warn_median_with_weights_not_supported_simple": "StackImages WARN: Weighted median is not simply supported. Using unweighted median.",
    "stackimages_warn_unknown_combine_method": "StackImages WARN: Unknown final combine method '{method}'. Using mean.",
    "stackimages_error_memory_final_combine": "StackImages MEMORY ERROR: During final combination.",
    "stackimages_error_exception_final_combine": "StackImages ERROR: Exception during final combination: {error}",
    "stackimages_error_combine_result_none": "StackImages ERROR: Final combination resulted in None.",
    "stackimages_info_applying_offset": "StackImages INFO: Applying final offset of {offset:.2f} to reach target ADU {target_adu:.1f}.",
    "stackimages_warn_min_not_finite_offset_skipped": "StackImages WARN: Minimum value of stacked image is not finite. Skipping final offset.",
    "stackimages_info_min_above_target_offset_skipped": "StackImages INFO: Minimum value {current_min:.1f} already above target ADU {target_adu:.1f}. Skipping final offset.",
    
    "stacking_apply_radial_label": "Apply Radial Weighting:",
    "stacking_radial_feather_label": "Radial Feather Fraction (0.1-1.0):",
    "final_assembly_options_frame_title": "Final Assembly Options",
    "final_assembly_method_label": "Assembly Method:",
    "assembly_method_reproject_coadd": "Reproject & Coadd (High Memory, Best Quality)",
    "assembly_method_incremental": "Incremental (Lower Memory, Good for Large Sets)",
    "use_gpu_phase5": "Use NVIDIA GPU for Phase 5",
    "gpu_selector_label": "GPU selector:",
    "no_gpu_title": "GPU not detected",
    "no_gpu_msg": "No NVIDIA GPU detected. Falling back to CPU.",
    "performance_options_frame_title": "Performance Options",
    "num_workers_label": "Processing Threads:",
    "num_workers_note": "(0 = auto, based on CPU cores)",
    "winsor_workers_label": "Winsor worker limit:",
    "winsor_workers_note": "(1-16, per-channel rejection)",
    "stacking_min_radial_floor_label": "Min Radial Weight Floor (0.0-0.5):",
    "stacking_min_radial_floor_note": "(0.0 = no floor)",
    "gui_memmap_title": "Memmap Options (coadd)",
    "gui_memmap_enable": "Use disk memmap",
    "gui_memmap_dir": "Memmap Folder",
    "gui_memmap_cleanup": "Delete *.dat when finished",
    "gui_auto_limit_frames": "Auto limit frames per master tile (system stability)",
    "max_raw_per_master_tile_label": "Max raw per master tile",
    "max_raw_per_master_tile_note": "0 = automatic (calculated). Positive value = maximum raw images per master tile.",
    "reject_winsor_info_channel_progress": "Winsorized Sigma Clip processing channel {channel}...",
    "reject_winsor_info_mono_progress": "Winsorized Sigma Clip processing monochrome data...",

    "assemble_error_invalid_final_shape_inc": "Incremental assembly ERROR: invalid final output shape {shape}.",
    "assemble_warn_swapped_final_shape_inc": "Incremental assembly WARNING: provided dimensions {provided} were swapped, expected {expected}. Automatically corrected.",
    "assemble_error_mismatch_final_shape_inc": "Incremental assembly ERROR: provided dimensions {provided} do not match mosaic grid {expected}.",
    "assemble_error_invalid_final_shape_reproj_coadd": "Reproject & Coadd ERROR: invalid final output shape {shape}.",
    "assemble_warn_swapped_final_shape_reproj_coadd": "Reproject & Coadd WARNING: provided dimensions {provided} were swapped, expected {expected}. Automatically corrected.",
    "assemble_error_mismatch_final_shape_reproj_coadd": "Reproject & Coadd ERROR: provided dimensions {provided} do not match mosaic grid {expected}.",

    "aligngroup_error_astroalign_unavailable": "AlignGroup ERROR: astroalign not available. Alignment cannot proceed.",
    "aligngroup_error_invalid_input_list_or_ref_index": "AlignGroup ERROR: invalid image list or reference index {ref_idx} out of range.",
    "aligngroup_error_ref_image_none": "AlignGroup ERROR: reference image (index {ref_idx}) is None.",
    "aligngroup_warn_shape_mismatch_after_align": "AlignGroup WARNING: aligned image (idx {img_idx}) shape {aligned_shape} ≠ reference {ref_shape}. Skipping.",
    "aligngroup_warn_register_returned_none": "AlignGroup WARNING: astroalign returned None for image {img_idx}.",
    "aligngroup_warn_max_iter_error": "AlignGroup WARNING: maximum iterations reached for image {img_idx}. Skipping.",
    "aligngroup_warn_value_error": "AlignGroup WARNING: ValueError aligning image {img_idx}: {error}",
    "aligngroup_error_exception_aligning": "AlignGroup ERROR: exception {error_type} on image {img_idx}: {error_msg}",

    "run_info_phase5_started_reproject_coadd": "Phase 5: Final assembly (Reproject & Coadd)...",
    "run_info_phase5_started_incremental": "Phase 5: Final assembly (Incremental on-disk coadd)...",
    "run_error_phase5_inc_func_missing": "CRITICAL P5: Incremental assembly function not available.",
    "run_error_phase5_reproject_coadd_func_missing": "CRITICAL P5: Reproject & Coadd function not available.",
    "run_error_phase5_assembly_failed_reproject_coadd": "ERROR P5: Final mosaic assembly via Reproject & Coadd failed.",
    "run_info_phase5_finished_reproject_coadd": "Phase 5 finished: Reproject & Coadd completed. Mosaic shape (HWC): {shape}",
    "run_error_phase5_assembly_failed_incremental": "ERROR P5: Final mosaic assembly via Incremental method failed.",
    "run_info_phase5_finished_incremental": "Phase 5 finished: Incremental assembly completed. Mosaic shape (HWC): {shape}",
    "run_warn_phase5_invalid_tile_skipped_for_assembly": "WARN P5: Invalid Master Tile ({filename}) skipped for final assembly.",

    "getwcs_info_header_written": "WCS header updated for: {filename}",
    "getwcs_warn_header_write_failed": "WARNING: Failed to update WCS header for {filename}: {error}",

    "run_info_preview_stretch_started_auto_asifits": "Preview: Applying ASI FITS-like auto stretch...",
    "run_success_preview_saved_auto_asifits": "Preview saved (auto ASI FITS-like): {filename}",
    "run_warn_preview_imwrite_failed_auto_asifits": "WARNING: Could not save preview PNG (auto ASI FITS-like): {filename}",
    "run_warn_preview_opencv_missing_for_auto_asifits": "WARNING: OpenCV not available for auto ASI FITS-like preview.",
    "run_warn_preview_stretch_auto_asifits_func_missing": "WARNING: auto ASI FITS-like stretch function unavailable; using fallback.",
    "run_error_preview_opencv_failed_auto_asifits": "ERROR: OpenCV write failed for auto ASI FITS-like preview: {error}",
    "run_error_preview_stretch_auto_asifits_returned_none": "ERROR: auto ASI FITS-like stretch returned no image.",
    "run_info_preview_fallback_to_simple_asinh": "Preview: Fallback to simple asinh stretch.",

    "assemble_error_no_tiles_provided_reproject_coadd": "Reproject & Coadd ERROR: no valid Master Tiles to assemble.",
    "assemble_error_reproject_coadd_call_failed": "Reproject & Coadd ERROR: processing failed: {error}",

    "run_warn_phase4_failed_set_pixel_shape": "WARN P4: Failed to set pixel shape for a Master Tile; using defaults.",
    "run_warn_phase4_invalid_master_tile_for_grid": "WARN P4: Invalid Master Tile WCS/shape for grid; skipped.",
    "run_warn_phase4_no_data_in_tile_fits": "WARN P4: No data found in Master Tile FITS; skipped.",
    "run_warn_phase4_unhandled_tile_shape": "WARN P4: Unhandled Master Tile shape; skipped.",
    "run_warn_phase4_zero_dimensions_tile": "WARN P4: Master Tile has zero dimensions; skipped.",
    "run_warn_phase3_master_tile_creation_failed_thread": "WARN P3: Master Tile creation failed in a worker thread.",
    "run_warn_phase6_wcs_to_header_failed": "WARN P6: Failed to convert WCS to FITS header: {error}",
    "run_success_preview_saved_fallback": "Preview saved (fallback): {filename}",
    "run_error_phase3_thread_exception": "ERROR P3: Exception in master tile creation thread.",
    "run_error_phase4_reading_tile_shape": "ERROR P4: Failed reading Master Tile shape.",
    "run_error_preview_stretch_unexpected_main": "ERROR: Unexpected error during preview stretch: {error}"
}
