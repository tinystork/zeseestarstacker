{
    "window_title": "ZeMosaic V2.0 - Mosaïqueur Hiérarchique",
    "language_selector_label": "Langue :",
    "folders_frame_title": "Dossiers",
    "input_folder_label": "Dossier d'Entrée (Brutes) :",
    "output_folder_label": "Dossier de Sortie :",
    "save_final_16bit_label": "Sauvegarder la mosaïque finale en 16 bits :",
    "astap_config_frame_title": "Configuration ASTAP",
    "astap_exe_label": "Chemin Exécutable ASTAP :",
    "astap_data_dir_label": "Dossier Données ASTAP (G17/H17) :",
    "browse_button": "Parcourir...",
    "browse_button_output": "Parcourir Dossier de Sortie...",
    "browse_save_button": "Parcourir & Sauver",
    "browse_save_button_data": "Parcourir & Sauver Données",
    "mosaic_astap_params_frame_title": "Paramètres Mosaïque & ASTAP",
    "astap_search_radius_label": "Rayon Recherche ASTAP (deg) :",
    "astap_downsample_label": "Downsample ASTAP (-z) :",
    "astap_downsample_note": "(0=auto, 1=2x2, 2=4x4...)",
    "astap_sensitivity_label": "Sensibilité ASTAP (-sens) :",
    "astap_sensitivity_note": "(ex: 100, plus grand = plus sensible)",
    "panel_clustering_threshold_label": "Seuil Clustering Panneaux (deg) :",
    "launch_button": "Lancer la Mosaïque Hiérarchique",
    "stop_button": "Arrêter",
    "log_frame_title": "Logs de Traitement",
    "eta_text_label": "ETA :",
    "elapsed_text_label": "Écoulé :",
    "initial_eta_value": "--:--:--",
    "initial_elapsed_time": "00:00:00",
    "tiles_text_label": "Tuiles :",

    "crop_options_frame_title": "Options de Rognage des Tuiles Maîtresses",
    "apply_master_tile_crop_label": "Rogner les Bords des Tuiles Maîtresses :",
    "master_tile_crop_percent_label": "Pourcentage de Rognage par Côté (0-25%) :",
    "master_tile_crop_percent_note": "(0.0 = pas de rognage)",    


    "config_warning_title": "Avertissement Configuration",
    "config_module_not_found_warning": "Module de configuration (zemosaic_config.py) non trouvé.\nLes chemins ASTAP ne seront pas sauvegardés entre les sessions.",
    "astap_path_title": "Chemin ASTAP",
    "astap_exe_not_set_warning": "Le chemin de l'exécutable ASTAP n'est pas défini.",
    "astap_data_dir_title": "Dossier Données ASTAP",
    "astap_data_dir_not_set_warning": "Le chemin du dossier de données ASTAP n'est pas défini.",
    "select_astap_exe_title": "Sélectionner l'Exécutable ASTAP",
    "select_astap_exe_no_save_title": "Sélectionner l'Exécutable ASTAP (Non Sauvegardé)",
    "select_astap_data_dir_title": "Sélectionner le Dossier de Données ASTAP",
    "select_astap_data_no_save_title": "Sélectionner le Dossier de Données ASTAP (Non Sauvegardé)",
    "executable_files": "Fichiers Exécutables",
    "all_files": "Tous les Fichiers",
    "processing_in_progress_title": "Traitement en Cours",
    "processing_already_running_warning": "Un traitement est déjà en cours. Veuillez patienter.",
    "critical_error_title": "Erreur Critique",
    "worker_module_unavailable_error": "Module worker (zemosaic_worker.py) non disponible ou incomplet.\nImpossible de démarrer le traitement.",
    "param_error_title": "Erreur de Paramètre",
    "invalid_param_value_error": "Valeur de paramètre invalide : {error}",
    "error_title": "Erreur",
    "invalid_input_folder_error": "Dossier d'entrée invalide.",
    "missing_output_folder_error": "Dossier de sortie manquant.",
    "output_folder_creation_error": "Impossible de créer/accéder au dossier de sortie : {error}",
    "invalid_astap_exe_error": "Chemin de l'exécutable ASTAP invalide.",
    "invalid_astap_data_error": "Chemin du dossier de données ASTAP invalide.",
    "log_key_processing_started": "Démarrage du traitement de la mosaïque hiérarchique...",
    "log_key_input_folder_info": "  Dossier d'Entrée : {input_folder}",
    "log_key_output_folder_info": "  Dossier de Sortie : {output_folder}",
    "log_key_astap_exe_info": "  Exécutable ASTAP : {astap_exe}",
    "log_key_astap_data_info": "  Données ASTAP : {astap_data}",
    "processing_finished_log_key": "Traitement terminé ou thread worker arrêté.",
    "log_key_processing_cancelled": "Traitement arrêté par l'utilisateur.",
    "completed_title": "Terminé",
    "msg_processing_completed": "Le traitement de la mosaïque est terminé.",
    "dialog_title_completed": "Traitement Terminé",
    "msg_processing_completed_errors": "Le traitement s'est terminé avec des erreurs. Veuillez vérifier les logs.",
    "q_open_output_folder_title": "Ouvrir Dossier Sortie ?",
    "q_open_output_folder_msg": "Voulez-vous ouvrir le dossier de sortie '{folder}' ?",
    "log_key_error_opening_folder": "Erreur ouverture dossier sortie : {error}",
    "error_cannot_open_folder": "Impossible d'ouvrir le dossier de sortie :\n{error}",
    "q_quit_title": "Quitter ZeMosaic ?",
    "q_quit_while_processing_msg": "Un traitement est actuellement en cours.\nQuitter maintenant pourrait interrompre le processus de manière abrupte.\n\nÊtes-vous sûr de vouloir quitter ?",
    "critical_launch_error_title": "Erreur de Lancement Critique",
    "worker_module_missing_critical_error": "Module worker (zemosaic_worker.py) non trouvé ou erreur d'importation.\nZeMosaic ne peut pas démarrer ses fonctionnalités principales.\n\nVeuillez vérifier les logs console pour les détails et vous assurer que toutes les dépendances sont installées.",

    "run_error_critical_deps_missing": "ERREUR CRITIQUE : Module(s) manquant(s) : {modules}. Annulation.",
    "run_info_processing_started": "Début du traitement de la mosaïque (Workflow : Master Tuiles)...",
    "run_error_no_fits_found_input": "ERREUR : Aucun fichier FITS trouvé dans le dossier d'entrée.",
    "run_info_found_potential_fits": "Trouvé {num_files} fichiers FITS potentiels.",
    "run_info_phase1_processing_file": "P1 - Fichier Brut {current_file_num}/{total_files} : {filename}",
    "run_warn_phase1_wcs_pretreat_failed": "AVERT P1 : Échec WCS/Prétrait. pour {filename}. Fichier ignoré.",
    "run_error_phase1_no_valid_raws": "ERREUR P1 : Aucun fichier brut avec WCS valide trouvé après la Phase 1.",
    "run_info_phase1_finished": "Phase 1 terminée : {num_valid_raws} brutes valides.",
    "run_info_phase2_started": "Phase 2 : Groupement fin des brutes en 'Stacks Seestar'...",
    "run_error_phase2_no_groups": "ERREUR P2 : Aucun 'Stack Seestar' (groupe fin) n'a pu être formé.",
    "run_info_phase2_finished": "Phase 2 terminée : {num_groups} 'Stacks Seestar' identifiés.",
    "run_info_phase3_started": "Phase 3 : Création des Master Tuiles (alignement fin & stacking classique)...",
    "run_error_phase3_mkdir_failed": "ERREUR P3 : Impossible de créer dossier temporaire pour master tuiles '{directory}' : {error}",
    "run_info_phase3_processing_stack": "P3 - Traitement Stack Seestar {current_stack_num}/{total_stacks} pour Master Tuile...",
    "run_warn_phase3_master_tile_creation_failed": "AVERT P3 : Échec création Master Tuile pour stack Seestar {stack_num}. Stack ignoré.",
    "run_error_phase3_no_master_tiles_created": "ERREUR P3 : Aucune Master Tuile n'a pu être créée avec succès.",
    "run_info_phase3_finished": "Phase 3 terminée : {num_master_tiles} Master Tuiles créées avec succès.",
    "run_info_phase4_started": "Phase 4 : Calcul grille de sortie pour la mosaïque finale (depuis Master Tuiles)...",
    "run_error_phase4_insufficient_tile_info": "ERREUR P4 : Infos Master Tuiles insuffisantes pour grille finale après filtrage.",
    "run_error_phase4_grid_calc_failed": "ERREUR P4 : Échec calcul grille mosaïque finale.",
    "run_info_phase4_finished": "Phase 4 terminée : Grille finale : Shape(H,W)={shape}, CRVAL={crval}",
    "run_info_phase5_started": "Phase 5 : Assemblage final des Master Tuiles via Reproject...",
    "run_warn_phase5_invalid_tile_skipped": "AVERT P5 : Master Tuile invalide ({filename}) ignorée pour assemblage final.",
    "run_error_phase5_no_valid_tiles_for_assembly": "ERREUR P5 : Aucune Master Tuile valide restante à assembler.",
    "run_error_phase5_assembly_failed": "ERREUR P5 : Échec assemblage final de la mosaïque via Reproject.",
    "run_info_phase5_finished": "Phase 5 terminée : Assemblage final des master tuiles effectué. Shape mosaïque (HWC) : {shape}",
    "run_info_phase6_started": "Phase 6 : Sauvegarde de la mosaïque finale...",
    "run_info_coverage_map_saved": "Carte de couverture sauvegardée : {filename}",
    "run_success_mosaic_saved": "Mosaïque finale sauvegardée : {filename}",
    "run_error_phase6_save_failed": "ERREUR P6 : Échec sauvegarde mosaïque finale : {error}",
    "run_info_preview_stretch_started": "Phase Test Visu : Application d'un étirement percentile pour image de prévisualisation...",
    "run_success_preview_saved": "Image de prévisualisation étirée sauvegardée : {filename}",
    "run_warn_preview_imwrite_failed": "AVERT Visu : cv2.imwrite a retourné False pour la prévisualisation PNG.",
    "run_warn_preview_opencv_missing": "AVERT Visu : OpenCV (cv2) non trouvé pour sauvegarder le PNG de prévisualisation.",
    "run_error_preview_opencv_failed": "ERREUR Visu : Échec sauvegarde PNG preview avec OpenCV : {error}",
    "run_error_preview_stretch_unexpected": "ERREUR INATTENDUE durant la création de la prévisualisation étirée : {error}",
    "run_info_phase7_started": "Phase 7 : Nettoyage des fichiers temporaires des Master Tuiles...",
    "run_info_temp_master_tiles_cleaned": "Nettoyage des Master Tuiles temporaires terminé.",
    "run_warn_phase7_cleanup_failed": "AVERTISSEMENT P7 : Échec nettoyage dossier Master Tuiles temporaires '{directory}' : {error}",
    "run_success_processing_completed": "Traitement de la mosaïque (Workflow Master Tuiles) terminé en {duration}s.",

    "run_info_phase1_started_cache": "Phase 1 : Scan fichiers bruts, prétraitement, WCS, et mise en cache des données image...",
    "run_error_cache_dir_creation_failed": "ERREUR : Impossible de créer le dossier de cache temporaire pour images '{directory}' : {error}",
    "run_info_cache_dir_created": "INFO : Dossier de cache temporaire '{directory}' créé.",
    "run_error_phase1_cache_save_failed": "ERREUR Phase 1 : Échec de la sauvegarde des données prétraitées pour '{filename}' dans le cache : {error}",
    "run_error_phase1_no_valid_raws_after_cache": "ERREUR P1 : Aucun fichier brut avec WCS valide trouvé après tentative de mise en cache.",
    "run_info_phase1_finished_cache": "Phase 1 terminée : {num_valid_raws} fichiers bruts prétraités et mis en cache.",
    "run_info_phase3_started_from_cache": "Phase 3 : Création des Master Tuiles (lecture depuis le cache d'images prétraitées)...",
    "run_info_phase3_finished_from_cache": "Phase 3 terminée : {num_master_tiles} Master Tuiles créées avec succès (via cache).",
    "run_info_phase7_cleanup_starting": "Phase 7 : Nettoyage des fichiers temporaires...",
    "run_info_temp_preprocessed_cache_cleaned": "Dossier de cache temporaire des images prétraitées '{directory}' nettoyé.",
    "run_warn_phase7_cache_cleanup_failed": "AVERTISSEMENT P7 : Échec du nettoyage du dossier de cache temporaire des images '{directory}' : {error}",
    "run_info_temp_master_tiles_fits_cleaned": "Dossier temporaire des FITS des master tuiles '{directory}' nettoyé.",
    "run_warn_phase7_master_tiles_fits_cleanup_failed": "AVERTISSEMENT P7 : Échec du nettoyage du dossier temporaire des FITS des master tuiles '{directory}' : {error}",

    "mastertile_info_creation_started_from_cache": "MasterTuile_{tile_id} : Début création depuis cache ({num_raw} brutes)...",
    "mastertile_info_loading_from_cache_started": "MasterTuile_{tile_id} : === Début Chargement Images Prétraitées depuis Cache ({num_images} images) ===",
    "mastertile_warn_cache_file_missing": "MasterTuile_{tile_id} AVERT : Fichier de cache prétraité pour '{filename}' non trouvé à '{cache_path}'. Ignoré.",
    "mastertile_warn_invalid_cached_data": "MasterTuile_{tile_id} AVERT : Données invalides dans fichier cache '{filename}'. Shape : {shape}, Dtype : {dtype}. Ignoré.",
    "mastertile_error_memory_loading_cache": "MasterTuile_{tile_id} ERREUR MÉMOIRE chargement fichier cache '{filename}' : {error}",
    "mastertile_error_loading_cache": "MasterTuile_{tile_id} ERREUR chargement fichier cache '{filename}' : {error}",
    "mastertile_error_no_valid_images_from_cache": "MasterTuile_{tile_id} ERREUR : Aucune image valide n'a pu être chargée depuis le cache pour cette tuile.",
    "mastertile_info_loading_from_cache_finished": "MasterTuile_{tile_id} : === Fin Chargement depuis Cache. {num_loaded} images prêtes. ===",




    "calcgrid_info_start_calc": "CalcGrid : Début calcul grille pour {num_wcs_shapes} WCS/shapes. Échelle : {scale_factor}x",
    "calcgrid_error_reproject_unavailable": "CalcGrid ERREUR : Reproject (find_optimal_celestial_wcs) non disponible.",
    "calcgrid_error_astropy_unavailable": "CalcGrid ERREUR : Astropy (units/Angle) non disponible.",
    "calcgrid_error_no_wcs_shape": "CalcGrid ERREUR : Aucune information WCS/Shape fournie.",
    "calcgrid_warn_invalid_shape_skipped": "CalcGrid AVERT : Shape invalide {shape} pour WCS {wcs_index}. Ignoré.",
    "calcgrid_warn_no_shape_for_wcs_skipped": "CalcGrid AVERT : Pas de shape pour WCS {wcs_index}. Ignoré.",
    "calcgrid_warn_invalid_wcs_skipped": "CalcGrid AVERT : WCS {wcs_index} invalide. Ignoré.",
    "calcgrid_error_no_valid_wcs_shape_after_filter": "CalcGrid ERREUR : Aucune information WCS/Shape valide après filtrage.",
    "calcgrid_warn_set_pixel_shape_failed": "CalcGrid AVERT : Échec de la définition de pixel_shape sur WCS {wcs_index} : {error}",
    "calcgrid_error_no_wcs_for_optimal_calc": "CalcGrid ERREUR : Aucune entrée WCS pour find_optimal_celestial_wcs.",
    "calcgrid_warn_scale_fallback": "CalcGrid AVERT : Échelle moyenne non calculable. Utilisation d'un fallback.",
    "calcgrid_info_scales": "CalcGrid : Échelle entrée moy. : {avg_input_scale_arcsec:.3f} arcsec/pix. Cible sortie : {target_scale_arcsec:.3f} arcsec/pix.",
    "calcgrid_info_optimal_grid_calculated": "CalcGrid : Grille optimale : Shape(H,W)={shape}, CRVAL={crval}",
    "calcgrid_error_find_optimal_wcs_unavailable": "CalcGrid ERREUR : Fonction find_optimal_celestial_wcs non disponible.",
    "calcgrid_error_find_optimal_wcs_call": "CalcGrid ERREUR lors de l'appel à find_optimal_celestial_wcs : {error}",

    "clusterstacks_error_astropy_unavailable": "ClusterStacks ERREUR : Astropy (SkyCoord/units) non disponible.",
    "clusterstacks_warn_no_raw_info": "ClusterStacks : Aucune information de fichier brut fournie.",
    "clusterstacks_info_start": "ClusterStacks : Groupement de {num_files} fichiers bruts (seuil fin : {threshold}°)...",
    "clusterstacks_warn_no_centers": "ClusterStacks AVERT : Aucun centre céleste valide trouvé pour le groupement.",
    "clusterstacks_info_finished": "ClusterStacks : {num_groups} stacks Seestar (groupes fins) formés.",
    "clusterstacks_info_groups_split_auto_limit": "Limite auto activée : groupes divisés de {original} à {new}, max {limit} images (exemple {shape})",
    "clusterstacks_info_groups_split_manual_limit": "Limite manuelle appliquée : groupes divisés de {original} à {new}, limite {limit} images",
    "clusterstacks_warn_auto_limit_failed": "Échec estimation limite auto : {error}",
    
    "getwcs_error_utils_unavailable": "GetWCS_Pretreat ERREUR : Module zemosaic_utils non disponible.",
    "getwcs_error_load_failed": "GetWCS_Pretreat ERREUR : Échec chargement de '{filename}'.",
    "getwcs_warn_debayer_failed": "GetWCS_Pretreat AVERT : Débayering échoué pour '{filename}' : {error}. Tentative de stacker en N&B (répliqué).",
    "getwcs_warn_still_2d_after_debayer": "GetWCS_Pretreat AVERT : Image pour '{filename}' toujours 2D après tentative Debayer. Réplication pour RGB.",
    "getwcs_error_shape_after_debayer": "GetWCS_Pretreat ERREUR : Shape image incorrecte ({shape}) après Debayer pour '{filename}'.",
    "getwcs_warn_hp_returned_none": "GetWCS_Pretreat AVERT : Correction Pixels Chauds a retourné None pour '{filename}'. Utilisation des données précédentes.",
    "getwcs_warn_header_wcs_read_failed": "GetWCS_Pretreat AVERT : Échec lecture WCS du header FITS de '{filename}' : {error}. Tentative ASTAP.",
    "getwcs_info_astap_solved": "GetWCS_Pretreat : ASTAP a résolu '{filename}'.",
    "getwcs_warn_astap_failed": "GetWCS_Pretreat AVERT : ASTAP n'a PAS résolu '{filename}'.",
    "getwcs_error_astap_tempfile_write_failed": "GetWCS_Pretreat ERREUR : Échec d'écriture du FITS temporaire pour ASTAP pour '{filename}' : {error}.",
    "getwcs_warn_no_header_wcs_astap_unavailable": "GetWCS_Pretreat AVERT : Pas de WCS dans header et ASTAP non disponible/utilisé pour '{filename}'.",
    "getwcs_error_final_wcs_invalid": "GetWCS_Pretreat ERREUR : WCS final pour '{filename}' non valide ou non céleste.",
    "getwcs_error_set_pixel_shape_final": "GetWCS_Pretreat ERREUR : Échec de la définition du pixel_shape final : {error}.",
    "getwcs_error_invalid_naxis_for_pixel_shape": "GetWCS_Pretreat ERREUR : NAXIS1/2 invalides pour pixel_shape final.",
    "getwcs_info_pretreatment_wcs_ok": "GetWCS_Pretreat : Prétraitement et WCS OK pour '{filename}'. WCS CRVAL : {crval}.",

    "mastertile_info_creation_started": "MasterTuile_{tile_id} : Début création ({num_raw} brutes)...",
    "mastertile_error_utils_unavailable": "MasterTuile_{tile_id} ERREUR : zemosaic_utils non disponible.",
    "mastertile_error_alignstack_unavailable": "MasterTuile_{tile_id} ERREUR : zemosaic_align_stack non disponible.",
    "mastertile_error_astropy_unavailable": "MasterTuile_{tile_id} ERREUR : Astropy non disponible.",
    "mastertile_error_no_images_provided": "MasterTuile_{tile_id} ERREUR : Aucune image fournie pour cette tuile.",
    "mastertile_error_invalid_ref_index": "MasterTuile_{tile_id} ERREUR : Index de référence invalide.",
    "mastertile_error_invalid_ref_wcs_header": "MasterTuile_{tile_id} ERREUR : WCS/header de référence invalide ou manquant.",
    "mastertile_info_reference_set": "MasterTuile_{tile_id} : Réf. pour alignement intra-tuile : Img {ref_index} ('{ref_filename}')",
    "mastertile_info_loading_preprocessing_started": "MasterTuile_{tile_id} : === Début Chargement & Prétraitement ({num_images} images) ===",
    "mastertile_warn_pretreatment_failed_skipped": "MasterTuile_{tile_id} AVERT : Prétraitement échoué pour image {image_id}. Ignorée.",
    "mastertile_error_no_valid_images_after_load": "MasterTuile_{tile_id} ERREUR : Aucune image valide après chargement/prétraitement.",
    "mastertile_info_loading_finished": "MasterTuile_{tile_id} : === Fin Chargement. {num_loaded} images prêtes. ===",
    "mastertile_info_intra_tile_alignment_started": "MasterTuile_{tile_id} : === Début Alignement Intra-Tuile ({num_to_align} imgs) ===",
    "mastertile_info_intra_tile_alignment_finished": "MasterTuile_{tile_id} : === Fin Alignement. {num_aligned} images valides pour stacking. ===",
    "mastertile_error_no_images_after_alignment": "MasterTuile_{tile_id} ERREUR : Pas d'images après alignement fin.",
    "mastertile_info_stacking_started": "MasterTuile_{tile_id} : === Début Stacking ({num_to_stack} imgs, méthode : {method}, Cible ADU : {adu_target}) ===",
    "mastertile_error_stacking_failed": "MasterTuile_{tile_id} ERREUR : Stacking classique a échoué.",
    "mastertile_info_stacking_finished": "MasterTuile_{tile_id} : === Fin Stacking. Master Tuile brute : Shape : {shape}, Min : {min_val:.3g}, Max : {max_val:.3g}, Moyenne : {mean_val:.3g}",
    "mastertile_info_saving_started": "MasterTuile_{tile_id} : === Début Sauvegarde Master Tuile ===",
    "mastertile_warn_wcs_header_error": "MasterTuile_{tile_id} AVERT sauvegarde : Erreur WCS header : {error}",
    "mastertile_info_saved": "MasterTuile_{tile_id} sauvegardée ({format_type}) : {filename}",
    "mastertile_info_saving_finished": "MasterTuile_{tile_id} : === Fin Sauvegarde Master Tuile ===",
    "mastertile_error_saving": "MasterTuile_{tile_id} ERREUR (sauvegarde) : {error}",
    
    "assemble_error_reproject_unavailable": "AssembleFinal ERREUR : Bibliothèque Reproject non disponible.",
    "assemble_info_start": "AssembleFinal : Assemblage de {num_tiles} master tuiles...",
    "assemble_error_read_master_tile": "AssembleFinal ERREUR lecture Master Tuile {filename} : {error}. Ignorée.",
    "assemble_error_no_valid_tiles_for_reproject": "AssembleFinal ERREUR : Aucune Master Tuile valide à reprojeter.",
    "assemble_info_final_stacking_started": "AssembleFinal : Stacking final de {num_valid_tiles} Master Tuiles valides...",
    "assemble_error_stacking_failed": "AssembleFinal ERREUR stacking : {error}",
    "assemble_info_finished": "AssembleFinal : Mosaïque finale assemblée.",
    "stacking_options_frame_title": "Options d'Empilement (Master Tuiles)",
    "stacking_norm_method_label": "Normalisation :",
    "norm_method_none": "Aucune",
    "norm_method_linear_fit": "Ajustement Linéaire (Fond Ciel)",
    "norm_method_sky_mean": "Soustraction Fond Ciel Moyen",
    "stacking_weight_method_label": "Pondération :",
    "weight_method_none": "Aucune",
    "weight_method_noise_variance": "Variance Bruit (1/σ²)",
    "weight_method_noise_fwhm": "Bruit + FWHM",
    "stacking_reject_algo_label": "Algorithme de Rejet :",
    "reject_algo_none": "Aucun",
    "reject_algo_kappa_sigma": "Kappa-Sigma Clip",
    "reject_algo_winsorized_sigma_clip": "Winsorized Sigma Clip",
    "reject_algo_linear_fit_clip": "Linear Fit Clip",
    "stacking_kappa_low_label": "Kappa Bas :",
    "stacking_kappa_high_label": "Kappa Haut :",
    "stacking_winsor_limits_label": "Limites Winsor (bas,haut) :",
    "stacking_winsor_note": "(ex : 0.05,0.05 pour 5% chaque côté)",
    "stacking_final_combine_label": "Combinaison Finale :",
    "combine_method_mean": "Moyenne",
    "combine_method_median": "Médiane",
    "invalid_winsor_limits_error": "Format des limites Winsor invalide (ex : '0.05,0.05'). Limites entre 0.0 et <0.5. Erreur : {error}",

    "stackhelper_warn_norm_sky_mean_not_implemented": "StackHelper AVERT : Normalisation Fond Ciel Moyen non implémentée. Ignorée.",
    "stackhelper_warn_weight_noise_var_not_implemented": "StackHelper AVERT : Pondération Variance Bruit non implémentée. Poids uniformes utilisés.",
    "stackhelper_warn_weight_noise_fwhm_not_implemented": "StackHelper AVERT : Pondération Bruit+FWHM non implémentée. Poids uniformes utilisés.",
    "stackhelper_warn_kappa_sigma_astropy_unavailable": "StackHelper AVERT : Astropy.stats (pour sigma_clipped_stats) non disponible. Rejet Kappa-Sigma ignoré ou moins efficace.",
    "stackhelper_info_kappa_sigma_rejected_pixels": "Rejet KappaSigma : {num_rejected} valeurs de pixels rejetées.",
    "stackhelper_error_kappa_sigma_unexpected_shape": "StackHelper ERREUR : Rejet Kappa-Sigma a reçu une forme de données inattendue : {shape}.",
    "stackhelper_warn_winsor_scipy_unavailable_rejection": "StackHelper AVERT : Scipy.stats (pour winsorize) non disponible. Rejet Winsorized Sigma Clip ignoré.",
    "stackhelper_warn_winsor_not_fully_implemented_rejection": "StackHelper AVERT : Rejet Winsorized Sigma Clip non entièrement implémenté. Ignoré.",
    "stackhelper_warn_linear_fit_clip_not_implemented": "StackHelper AVERT : Rejet Linear Fit Clip non implémenté. Ignoré.",
    "stackimages_warn_no_valid_images": "StackImages AVERT : Aucune image valide fournie pour l'empilement.",
    "stackimages_info_start_stacking": "StackImages INFO : Début empilement de {num_images} images. Norm: '{norm}', Pond: '{weight}', Rejet: '{reject}', Comb: '{combine}'.",
    "stackimages_warn_inconsistent_shape": "StackImages AVERT : Image {img_index} (forme {shape}) a une forme différente de la référence ({ref_shape}). Ignorée.",
    "stackimages_error_no_images_after_shape_check": "StackImages ERREUR : Aucune image valide restante après vérification de forme.",
    "stackimages_warn_some_images_skipped_shape": "StackImages AVERT : {num_kept}/{num_initial} images conservées après vérification de forme.",
    "stackimages_info_applying_linear_fit_norm": "StackImages INFO : Application de la normalisation par Ajustement Linéaire...",
    "stackimages_error_no_images_after_linear_fit_norm": "StackImages ERREUR : Aucune image valide restante après normalisation par Ajustement Linéaire.",
    "stackimages_info_applying_sky_mean_norm": "StackImages INFO : Application de la normalisation par Fond Ciel Moyen...",
    "stackimages_error_no_images_after_sky_mean_norm": "StackImages ERREUR : Aucune image valide restante après normalisation par Fond Ciel Moyen.",
    "stackimages_warn_unknown_norm_method": "StackImages AVERT : Méthode de normalisation inconnue '{method}'. Normalisation ignorée.",
    "stackimages_error_no_images_left_after_normalization_step": "StackImages ERREUR : Plus d'images après l'étape de normalisation.",
    "stackimages_info_calculating_noise_variance_weights": "StackImages INFO : Calcul des poids par Variance du Bruit...",
    "stackimages_info_calculating_noise_fwhm_weights": "StackImages INFO : Calcul des poids par Bruit+FWHM...",
    "stackimages_warn_unknown_weight_method": "StackImages AVERT : Méthode de pondération inconnue '{method}'. Poids uniformes utilisés.",
    "stackimages_error_memory_stacking_images": "StackImages ERREUR MÉMOIRE : Impossible d'empiler les images en un seul tableau.",
    "stackimages_error_value_stacking_images": "StackImages ERREUR VALEUR : Impossible d'empiler les images (probablement formes incohérentes restantes) : {error}",
    "stackimages_error_no_images_to_stack_before_np_stack": "StackImages ERREUR : Aucune image disponible pour empiler juste avant l'appel à np.stack.",
    "stackimages_warn_weights_count_mismatch": "StackImages AVERT : Nombre de poids ({num_weights}) ne correspond pas au nombre d'images empilées ({num_images_stacked}). Problème potentiel.",
    "stackimages_warn_weights_shape_mismatch_final": "StackImages AVERT : Forme du tableau de poids final ({weights_shape}) incohérente avec forme des données ({data_shape}). Poids ignorés.",
    "stackimages_error_stacking_weights": "StackImages ERREUR : Impossible d'empiler les poids des images : {error}",
    "stackimages_warn_unknown_rejection_algo": "StackImages AVERT : Algorithme de rejet inconnu '{algo}'. Aucun rejet appliqué.",
    "stackimages_warn_median_with_weights_not_supported_simple": "StackImages AVERT : Médiane pondérée non supportée simplement. Utilisation d'une médiane non pondérée.",
    "stackimages_warn_unknown_combine_method": "StackImages AVERT : Méthode de combinaison finale inconnue '{method}'. Utilisation de la moyenne.",
    "stackimages_error_memory_final_combine": "StackImages ERREUR MÉMOIRE : Durant la combinaison finale.",
    "stackimages_error_exception_final_combine": "StackImages ERREUR : Exception durant la combinaison finale : {error}",
    "stackimages_error_combine_result_none": "StackImages ERREUR : La combinaison finale a résulté en None.",
    "stackimages_info_applying_offset": "StackImages INFO : Application d'un offset final de {offset:.2f} pour atteindre l'ADU cible {target_adu:.1f}.",
    "stackimages_warn_min_not_finite_offset_skipped": "StackImages AVERT : Valeur minimale de l'image empilée non finie. Offset final ignoré.",
    "stackimages_info_min_above_target_offset_skipped": "StackImages INFO : Valeur minimale {current_min:.1f} déjà au-dessus de l'ADU cible {target_adu:.1f}. Offset final ignoré.",

    "stacking_apply_radial_label": "Appliquer Pondération Radiale :",
    "stacking_radial_feather_label": "Fraction d'Atténuation Radiale (0.1-1.0) :",
    "final_assembly_options_frame_title": "Options d'Assemblage Final",
    "final_assembly_method_label": "Méthode d'Assemblage :",
    "assembly_method_reproject_coadd": "Reproject & Coadd (Haute Mémoire, Meilleure Qualité)",
    "assembly_method_incremental": "Incrémental (Basse Mémoire, Bon pour Grands Ensembles)",
    "use_gpu_phase5": "Utiliser GPU NVIDIA pour la phase 5",
    "gpu_selector_label": "Sélecteur de GPU :",
    "no_gpu_title": "GPU non détecté",
    "no_gpu_msg": "Aucun GPU NVIDIA détecté. Repli CPU activé.",

    "performance_options_frame_title": "Options de Performance",
    "num_workers_label": "Threads de Traitement :",
    "num_workers_note": "(0 = auto, basé sur les cœurs CPU)",
    "winsor_workers_label": "Limite workers Winsor :",
    "winsor_workers_note": "(1-16, rejet parallèle par canal)",
    "stacking_min_radial_floor_label": "Plancher Poids Radial Min (0.0-0.5) :",
    "stacking_min_radial_floor_note": "(0.0 = pas de plancher)",
    "gui_memmap_title": "Options memmap (coadd)",
    "gui_memmap_enable": "Utiliser memmap disque",
    "gui_memmap_dir": "Dossier memmap",
    "gui_memmap_cleanup": "Supprimer les *.dat à la fin",
    "gui_auto_limit_frames": "Limiter automatiquement les images par master tile (stabilité système)",
    "max_raw_per_master_tile_label": "Brutes max par master-tuile",
    "max_raw_per_master_tile_note": "0 = automatique (calculé). Valeur positive = nombre maximum d'images brutes par master-tuile.",
    "reject_winsor_info_channel_progress": "Winsorized Sigma Clip : traitement du canal {channel}...",
    "reject_winsor_info_mono_progress": "Winsorized Sigma Clip : traitement image monochrome...",

    "assemble_error_invalid_final_shape_inc": "ERREUR assemblage incrémental : dimensions finales invalides {shape}.",
    "assemble_warn_swapped_final_shape_inc": "AVERTISSEMENT assemblage incrémental : dimensions fournies {provided} inversées, attendu {expected}. Correction automatique.",
    "assemble_error_mismatch_final_shape_inc": "ERREUR assemblage incrémental : dimensions fournies {provided} incompatibles avec la grille {expected}.",
    "assemble_error_invalid_final_shape_reproj_coadd": "ERREUR Reproject & Coadd : dimensions finales invalides {shape}.",
    "assemble_warn_swapped_final_shape_reproj_coadd": "AVERTISSEMENT Reproject & Coadd : dimensions fournies {provided} inversées, attendu {expected}. Correction automatique.",
    "assemble_error_mismatch_final_shape_reproj_coadd": "ERREUR Reproject & Coadd : dimensions fournies {provided} incompatibles avec la grille {expected}.",

    "aligngroup_error_astroalign_unavailable": "AlignGroup ERREUR : astroalign non disponible. Alignement impossible.",
    "aligngroup_error_invalid_input_list_or_ref_index": "AlignGroup ERREUR : liste d'images invalide ou index de référence {ref_idx} hors bornes.",
    "aligngroup_error_ref_image_none": "AlignGroup ERREUR : l'image de référence (index {ref_idx}) est vide.",
    "aligngroup_warn_shape_mismatch_after_align": "AlignGroup AVERT : forme de l'image alignée (img {img_idx}) {aligned_shape} ≠ référence {ref_shape}. Image ignorée.",
    "aligngroup_warn_register_returned_none": "AlignGroup AVERT : astroalign a retourné None pour l'image {img_idx}.", 
    "aligngroup_warn_max_iter_error": "AlignGroup AVERT : itérations max atteintes pour l'image {img_idx}. Image ignorée.",
    "aligngroup_warn_value_error": "AlignGroup AVERT : ValueError lors de l'alignement de l'image {img_idx} : {error}",
    "aligngroup_error_exception_aligning": "AlignGroup ERREUR : exception {error_type} pour l'image {img_idx} : {error_msg}",

    "run_info_phase5_started_reproject_coadd": "Phase 5 : Assemblage final (Reproject & Coadd)...",
    "run_info_phase5_started_incremental": "Phase 5 : Assemblage final (méthode incrémentale sur disque)...",
    "run_error_phase5_inc_func_missing": "ERREUR CRITIQUE P5 : Fonction d'assemblage incrémental indisponible.",
    "run_error_phase5_reproject_coadd_func_missing": "ERREUR CRITIQUE P5 : Fonction Reproject & Coadd indisponible.",
    "run_error_phase5_assembly_failed_reproject_coadd": "ERREUR P5 : Échec de l'assemblage final via Reproject & Coadd.",
    "run_info_phase5_finished_reproject_coadd": "Phase 5 terminée : Reproject & Coadd terminé. Shape mosaïque (HWC) : {shape}",
    "run_error_phase5_assembly_failed_incremental": "ERREUR P5 : Échec de l'assemblage final via la méthode incrémentale.",
    "run_info_phase5_finished_incremental": "Phase 5 terminée : Assemblage incrémental terminé. Shape mosaïque (HWC) : {shape}",
    "run_warn_phase5_invalid_tile_skipped_for_assembly": "AVERT P5 : Master Tuile invalide ({filename}) ignorée pour l'assemblage final.",

    "getwcs_info_header_written": "Entête WCS mis à jour pour : {filename}",
    "getwcs_warn_header_write_failed": "AVERTISSEMENT : Échec de mise à jour de l'entête WCS pour {filename} : {error}",

    "run_info_preview_stretch_started_auto_asifits": "Preview : Application d'un étirement auto type ASI FITS...",
    "run_success_preview_saved_auto_asifits": "Prévisualisation enregistrée (auto type ASI FITS) : {filename}",
    "run_warn_preview_imwrite_failed_auto_asifits": "AVERTISSEMENT : Échec d'enregistrement de la preview PNG (auto type ASI FITS) : {filename}",
    "run_warn_preview_opencv_missing_for_auto_asifits": "AVERTISSEMENT : OpenCV indisponible pour la preview auto type ASI FITS.",
    "run_warn_preview_stretch_auto_asifits_func_missing": "AVERTISSEMENT : Fonction d'étirement auto type ASI FITS indisponible ; recours au fallback.",
    "run_error_preview_opencv_failed_auto_asifits": "ERREUR : Échec OpenCV pour la preview auto type ASI FITS : {error}",
    "run_error_preview_stretch_auto_asifits_returned_none": "ERREUR : L'étirement auto type ASI FITS n'a rien renvoyé.",
    "run_info_preview_fallback_to_simple_asinh": "Preview : Repli vers un étirement asinh simple.",

    "assemble_error_no_tiles_provided_reproject_coadd": "ERREUR Reproject & Coadd : aucune Master Tuile valide à assembler.",
    "assemble_error_reproject_coadd_call_failed": "ERREUR Reproject & Coadd : échec du traitement : {error}",

    "run_warn_phase4_failed_set_pixel_shape": "AVERT P4 : Échec du paramétrage de la taille de pixel pour une Master Tuile ; valeurs par défaut utilisées.",
    "run_warn_phase4_invalid_master_tile_for_grid": "AVERT P4 : Master Tuile WCS/shape invalide pour la grille ; ignorée.",
    "run_warn_phase4_no_data_in_tile_fits": "AVERT P4 : Aucune donnée trouvée dans le FITS de Master Tuile ; ignorée.",
    "run_warn_phase4_unhandled_tile_shape": "AVERT P4 : Shape de Master Tuile non gérée ; ignorée.",
    "run_warn_phase4_zero_dimensions_tile": "AVERT P4 : Master Tuile à dimensions nulles ; ignorée.",
    "run_warn_phase3_master_tile_creation_failed_thread": "AVERT P3 : Échec de création d'une Master Tuile dans un thread worker.",
    "run_warn_phase6_wcs_to_header_failed": "AVERT P6 : Échec de conversion du WCS en entête FITS : {error}",
    "run_success_preview_saved_fallback": "Prévisualisation enregistrée (fallback) : {filename}",
    "run_error_phase3_thread_exception": "ERREUR P3 : Exception dans un thread de création de Master Tuile.",
    "run_error_phase4_reading_tile_shape": "ERREUR P4 : Échec de lecture de la forme (shape) de Master Tuile.",
    "run_error_preview_stretch_unexpected_main": "ERREUR : Erreur inattendue lors de l'étirement de preview : {error}"
}
